<template>
  <view class="diary-card-container">
    <view class="card-container">
      <view class="diary-card" @tap="handleCardClick">
        <view class="diary-header">
          <view class="date-top">
            <text class="month">{{ month }}</text>
            <text class="lunar-date">{{ lunarDate }}</text>
          </view>
          <text class="date-number">{{ date }}</text>
          <view class="date-bottom">
            <text class="weekday">{{ weekday }}</text>
            <text class="time">{{ time }}</text>
            <text class="year">{{ year }}</text>
          </view>
        </view>

        <view class="diary-quote">
          <text class="quote-icon">"</text>
          <text class="quote-content">{{ quoteText }}</text>
          <text class="quote-source">â€”â€” {{ quoteSource }}</text>
        </view>

        <!-- ä½œè€…ä¿¡æ¯ -->
        <view class="diary-author">
          <text class="author-name">ä½œè€…ï¼šå°æ˜</text>
        </view>
      </view>
    </view>
  </view>
</template>

<script setup>
import { ref } from "vue";
import Taro from "@tarojs/taro";
import "./DiaryCard.scss";

// æ—¥è®°æ•°æ®
const month = ref("09æœˆ");
const lunarDate = ref("ä¸ƒæœˆå»¿å››");
const date = ref("15");
const weekday = ref("å‘¨ä¸€");
const time = ref("14:47");
const year = ref("2025");
const quoteText = ref("å°±ç®—è¦å‡ºå–çµé­‚ï¼Œä¹Ÿè¦æ‰¾ä¸ªä»˜çš„èµ·ä»·é’±çš„äººã€‚");
const quoteSource = ref("æ­Œå¾·ã€Šæµ®å£«å¾·ã€‹");

const handleCardClick = () => {
  console.log('ğŸŸ¢ ç‚¹å‡»å¡ç‰‡ï¼Œå‡†å¤‡è·³è½¬...');

  Taro.navigateTo({
    url: "/pages/diary/detail/index?id=1",
  }).then(() => {
    console.log('âœ… è·³è½¬æˆåŠŸ');
  }).catch((err) => {
    console.error('âŒ è·³è½¬å¤±è´¥:', err);
    Taro.showModal({
      title: 'è·³è½¬å¤±è´¥',
      content: `é”™è¯¯ä¿¡æ¯: ${err.errMsg}`,
      showCancel: false
    });
  });
};
</script>
